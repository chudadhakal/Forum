<!DOCTYPE html>
<html>
<head>
<title>Forum Posts</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="script.js"></script>

<link href="style.css" rel="stylesheet"/>
</head>
<body>
    <div id="sitewrap">
        <header>
            <h1>Forum</h1>
            <div id="menuwrap">
                <li class="menuitem"><a href="/index.html">Home</a></li>
                <li class="menuitem"><a href="/users.html">Users</a></li>
                <li class="menuitem"><a href="/posts.html">Posts</a></li>
            </div>
        </header>
        <div id="content">
            <h2>Posts</h2>
            <table class="table">
                <thead>
                    <tr>
                    <th>Id</th>
                    <th>Title</th>
                    <th>User Id</th>
                    <th>View Post</th>
                </tr>
                </thead>
                <tbody id="postslist">
                </tbody>
            </table>
        </div>
    </div>
<script>
    $("document").ready(function(){
        var posts = "https://jsonplaceholder.typicode.com/posts";
        $.ajax({
            url: posts,
            type: 'GET',
            success: function(res){
                console.log(res);
                var rowsHtml = '';
                //loop through the list of users
                $.each(res, function(index, item){
                    rowsHtml += '<tr><td>'+item.id+'</td><td>'+item.title+'</td><td><a href="/userdetail.html?id='+item.userId+'">'+item.userId+'</a></td><td><a href="/postdetail.html?id='+item.id+'">View</a></td><tr>';
                });
                $("#postslist").html(rowsHtml);
            },
            error: function(e){
                alert("Error: "+e);
            }
        });
    });
</script>
</body>
</html>